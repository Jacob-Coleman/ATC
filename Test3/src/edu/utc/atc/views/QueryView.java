package edu.utc.atc.views;

import com.vaadin.annotations.AutoGenerated;
import com.vaadin.server.Page;
import com.vaadin.ui.AbsoluteLayout;
import com.vaadin.ui.Button;
import com.vaadin.ui.Button.ClickEvent;
import com.vaadin.ui.Notification;

import edu.utc.atc.components.NumberBoxCheckComponent;
import edu.utc.atc.components.QueryComponent;

public class QueryView extends QueryComponent {

	/**
	 * 
	 */
	private static final long serialVersionUID = -7581919752425898971L;
	@AutoGenerated
	private AbsoluteLayout mainLayout;

	/**
	 * The constructor should first build the main layout, set the
	 * composition root and then do any custom initialization.
	 *
	 * The constructor will not be automatically regenerated by the
	 * visual editor.
	 */
	public QueryView() {
		horizontalSplitPanel_1.setMaxSplitPosition(275, UNITS_PIXELS);
		horizontalSplitPanel_1.setMinSplitPosition(250, UNITS_PIXELS);
		
		submitButton.addClickListener(new Button.ClickListener() {

			@Override
			public void buttonClick(ClickEvent event) {
				
				boolean isValidLat = false;
				boolean isValidLong = false;
				boolean isValidMax = false;
				
				NumberBoxCheckComponent nbc; 
					
				isValidLat =  new NumberBoxCheckComponent(latField.getValue(), -180, 180, "not within Paramaters", "Plese enter a Latitude", "Not a Latitude").getIsValid();
	
				isValidLong =  new NumberBoxCheckComponent(longField.getValue(), -180, 180, "not within Paramaters", "Plese enter a Longitude", "Not a Longitude").getIsValid();
				
				isValidMax =  new NumberBoxCheckComponent(maxMagField.getValue(), 0, 8.99999999999999999999999, "not within Paramaters", "Plese enter a Latitude", "Not a Magnitude").getIsValid();
				
				
				if(isValidLong == true && isValidLat == true && isValidMax == true)
				{
					Notification message = new Notification("Submit Worked",Notification.TYPE_WARNING_MESSAGE);
					message.show(Page.getCurrent());
				}
			}
			
		});
	}

}
